<!DOCTYPE html>
<html>
<head>
	<title>Test adapt</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/style.css" />
</head>
<body>
	<div id="result"></div>

		<div id="header">
			<div id="navbar">
				<div id="navlogo">&nbsp;</div>
				<div id="navlinks">
					<div class="innerLinks">one</div>
					<div class="innerLinks">one two</div>
					<div class="innerLinks">one two three</div>
					<div class="innerLinks">one two three four</div>
				</div>

				<hr />		
				<div class="tom" style="border:1px solid gray;background-color:lightblue;width:200px;">Tom</div>
				<div class="jerry" style="border:1px solid gray;background-color:lightgreen;width:200px;">Jerry</div>

				<hr />
				<div class="bob" style="border:1px solid gray;background-color:orange;width:400px;">Bob</div>
				<div class="sussan" style="border:1px solid gray;background-color:blue;width:200px;">Sussan</div>

			</div>
		</div>

	<script src="js/window.js"></script>
	
	<script type="text/javascript">

		//This needs to run as a prefunction in the leftRightAdapt ONLY if has been display block
		function calcCombinedWidth(elementName)
		{	
			var combinedWidth = 0;
			$(elementName).each(function()
			{
			    combinedWidth += $(this).outerWidth(true);
			});
			return combinedWidth + 1; //+1 is to account for border thickness
		}

		
/*		setTimeout(function()
		{
			//Pushes down navlinks vertically when needed (+2 is border when floating thingy) and extra time is added to render correctly
			$("#navlinks").css("margin-top", ($("#navbar").height()/2) - (($("#navlinks").height()+2)/2)); // or margin-top:0px
		}, 100);*/
		//$("#navlinks").css("margin-top", "0px");

	
			mywidth = calcCombinedWidth(".innerLinks");
			$("#navlinks").width(mywidth);

		function leftrightAdapt(leftEle, rightEle, LRdistanceBuffer, preFunc, postFunc)
		{
			//Optional parameter execution. Will only fire if there is a parameter
			if ( !(preFunc === undefined) )
			{
				preFunc();
			}

			//Center the block elements and float them to either right or left unless they are too close.
			$(leftEle).css("margin", "auto");
			$(rightEle).css("margin", "auto");
			if( ($(leftEle).width() + $(rightEle).width() + LRdistanceBuffer + 4 ) < $(leftEle).parent().width() )  //The 4 is the width of all borders as 1px each.
			{
				$(leftEle).css("float", "left");
				$(rightEle).css("float", "right");
			}
			else
			{
				$(leftEle).css("float", "none");
				$(rightEle).css("float", "none");
			}

			//Check if there is a <br> with clear:both, if there isn't create one
			if( $(rightEle).next().attr('class') != "clearbreak" )
			{
				$(rightEle).after("<br class='clearbreak' style='clear:both' />");
			}
			
			//Remove the extra breakline if elements are not floating.
			if( $(rightEle).css("float") == "right" )
			{
				$(rightEle).next(".clearbreak").css( "display", "inline" );
			}
			else
			{
				$(rightEle).next(".clearbreak").css( "display", "none" );
			}

			//Optional parameter execution. Will only fire if there is a parameter
			if ( !(postFunc === undefined) )
			{
				postFunc();
			}


		}
		
		//Resize & format inner links
		function navbarAdapt()
		{
			if( (($("#navlinks").css("float") == "none") && (mywidth+60 > $("#navbar").width())) )
			{			
				$(".innerLinks").css("display", "block");
				$("#navlogo").css("background-color", "black");
				$("#navlinks").width( $("#navbar").width()-100 );
			}
			else
			{
				$(".innerLinks").css("display", "inline-block");
				$("#navlogo").css("background-color", "green");
				$("#navlinks").width(mywidth);
			}
		}
	</script>

	<script src="js/mytimer.js"></script>
	<script src="js/status.js"></script>
</body>
</html>